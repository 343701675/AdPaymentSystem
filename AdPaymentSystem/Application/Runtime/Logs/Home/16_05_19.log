[ 2016-05-19T08:07:14+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.5496390869375318&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T08:07:25+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.8036503312177956&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.003001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: SQLSTATE[HY000] [2002] ÓÉÓÚÄ¿±ê¼ÆËã»ú»ý¼«¾Ü¾ø£¬ÎÞ·¨Á¬½Ó¡£


[ 2016-05-19T08:07:28+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.18242270359769464&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.003001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: SQLSTATE[HY000] [2002] ÓÉÓÚÄ¿±ê¼ÆËã»ú»ý¼«¾Ü¾ø£¬ÎÞ·¨Á¬½Ó¡£


[ 2016-05-19T08:07:28+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.4309478630311787&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T08:14:18+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.16635435004718602&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0890s ]

[ 2016-05-19T08:14:34+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.464181762188673&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select main.yearmonth,'ä¸ŠæœŸç»“è½¬' as customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0030s ]

[ 2016-05-19T08:35:00+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.13818880496546626&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T08:35:03+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.3790488026570529&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T08:35:07+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.8544087361078709&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T08:35:59+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.020861873403191566&customname=A&month=2015-04&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-04' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-04' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2015-04'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2015-04'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-04' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-04' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-04' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-04' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T08:36:03+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.0691030896268785&customname=A&month=2015-03&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-03' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-03' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2015-03'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2015-03'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-03' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-03' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-03' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-03' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:36:10+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.2244472336024046&customname=A&month=2015-02&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2015-02'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2015-02'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-02' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-02' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:36:16+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.007272809976711869&customname=A&month=2015-01&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2015-01'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2015-01'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-01' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-01' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T08:36:24+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.7823357509914786&customname=A&month=2014-12&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:36:33+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.6448034525383264&customname=A&month=2014-11&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-11' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-11' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-11'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-11'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-11' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-11' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-11' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-11' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:36:34+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.4199336529709399&customname=A&month=2014-11&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-11' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-11' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-11'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-11'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-11' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-11' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-11' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-11' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T08:36:34+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.21031277580186725&customname=A&month=2014-11&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-11' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-11' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-11'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-11'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-11' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-11' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-11' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-11' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:36:34+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.8972467775456607&customname=A&month=2014-11&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-11' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-11' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-11'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-11'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-11' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-11' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-11' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-11' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:36:35+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.5984062552452087&customname=A&month=2014-11&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-11' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-11' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-11'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-11'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-11' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-11' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-11' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-11' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T08:36:35+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.12798184901475906&customname=A&month=2014-11&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-11' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-11' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-11'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-11'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-11' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-11' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-11' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-11' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T08:38:52+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.01937769236974418&customname=A&month=2014-12&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T08:43:25+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.24094041483476758&customname=A&month=2014-12&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2014-12'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2014-12' [ RunTime:0.0000s ]

[ 2016-05-19T08:43:25+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.2520860549993813&customname=A&month=2014-12&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2014-12'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2014-12' [ RunTime:0.0010s ]

[ 2016-05-19T08:43:26+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.982055762084201&customname=A&month=2014-12&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2014-12'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2014-12' [ RunTime:0.0000s ]

[ 2016-05-19T08:43:26+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.5329725416377187&customname=A&month=2014-12&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2014-12'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2014-12' [ RunTime:0.0010s ]

[ 2016-05-19T08:43:26+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.5206687154714018&customname=A&month=2014-12&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2014-12'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2014-12' [ RunTime:0.0010s ]

[ 2016-05-19T08:43:26+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.6536450514104217&customname=A&month=2014-12&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2014-12'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2014-12' [ RunTime:0.0000s ]

[ 2016-05-19T08:43:26+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.2859171184245497&customname=A&month=2014-12&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2014-12'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2014-12' [ RunTime:0.0010s ]

[ 2016-05-19T08:43:32+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.3802067572250962&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:43:35+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.03911118721589446&customname=A&month=&year=2014
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2014-01' and yearmonth<='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2014-01' and yearmonth<='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:43:40+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.2388014425523579&customname=A&month=&year=2013
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2013-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2013-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2013-01' and yearmonth<='2013-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2013-01' and yearmonth<='2013-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2013-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2013-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2013-01' and yearmonth<='2013-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2013-01' and yearmonth<='2013-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:43:47+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.47449369728565216&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T08:43:51+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.21476061828434467&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T08:45:31+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.027701878221705556&customname=A&month=2014-12&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2014-12'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2014-12' [ RunTime:0.0000s ]

[ 2016-05-19T08:45:31+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.41414917912334204&customname=A&month=2014-12&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2014-12'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2014-12' [ RunTime:0.0000s ]

[ 2016-05-19T08:45:32+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.9300762726925313&customname=A&month=2014-12&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2014-12'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-12' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-12' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2014-12' [ RunTime:0.0010s ]

[ 2016-05-19T08:45:40+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.2574464825447649&customname=A&month=2015-01&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2015-01'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2015-01'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2015-01'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-01' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-01' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2015-01' [ RunTime:0.0020s ]

[ 2016-05-19T08:45:45+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.012467024149373174&customname=A&month=2015-02&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2015-02'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2015-02'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2015-02'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-02' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-02' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2015-02' [ RunTime:0.0020s ]

[ 2016-05-19T08:45:52+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.7983231421094388&customname=A&month=2015-03&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-03' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-03' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2015-03'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2015-03'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2015-03'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-03' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-03' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-03' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-03' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2015-03' [ RunTime:0.0010s ]

[ 2016-05-19T08:45:57+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.44559064134955406&customname=A&month=2015-04&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-04' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-04' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2015-04'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2015-04'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2015-04'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-04' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-04' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-04' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-04' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2015-04' [ RunTime:0.0010s ]

[ 2016-05-19T08:46:18+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.1201273154001683&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T08:46:19+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.38675625738687813&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:46:19+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.9874774848576635&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:46:19+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.4381819264963269&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:46:20+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.24505729647353292&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T08:46:20+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.26938669197261333&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T08:46:24+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.9774964177049696&customname=A&month=&year=2014
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2014-01' and yearmonth<='2014-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2014-01' and yearmonth<='2014-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T08:46:56+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.3543029052671045&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T08:47:00+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.4457054464146495&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T08:47:03+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.09735531359910965&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0020s ]

[ 2016-05-19T08:47:06+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.18886244529858232&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0020s ]

[ 2016-05-19T08:47:36+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.9280881807208061&customname=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0010s ]

[ 2016-05-19T08:47:39+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.3346565617248416&customname=&year=2014
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2014'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0010s ]

[ 2016-05-19T08:47:47+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.29645434976555407&customname=&month=2015-02
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015-02' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-02' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-02' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2015-02' [ RunTime:0.0020s ]

[ 2016-05-19T08:47:51+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.30157567420974374&customname=&month=2015-01
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015-01' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-01' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-01' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2015-01' [ RunTime:0.0020s ]

[ 2016-05-19T08:48:15+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.7064958030823618&customname=&month=2015-02
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015-02' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-02' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-02' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2015-02' [ RunTime:0.0010s ]

[ 2016-05-19T08:54:10+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.33426994108594954&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: SQLSTATE[HY000] [1045] Access denied for user 'root'@'localhost' (using password: YES)

[ 2016-05-19T08:54:13+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.8615931977983564&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: SQLSTATE[HY000] [1045] Access denied for user 'root'@'localhost' (using password: YES)

[ 2016-05-19T08:54:19+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.16267511365003884&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0010s ]

[ 2016-05-19T09:15:04+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.137699467362836&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:19:05+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.2760978953447193&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:19:07+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.5702711208723485&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:19:09+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.6675629743840545&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:31:19+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.33548201341181993&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:31:26+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.9980895519256592&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:31:29+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.6235510257538408&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:31:32+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.8505375017412007&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:31:33+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.20821778802201152&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:31:44+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.42164864484220743&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:47:17+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.8675806894898415&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:47:18+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.01964171207509935&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:47:19+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.18489984958432615&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:47:20+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.7542572715319693&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:47:21+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.7099855551496148&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:47:22+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.5782721214927733&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:47:31+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.9409441724419594&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:47:34+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.7493442134000361&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:47:36+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.6151661172043532&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:47:37+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.030404187506064773&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:47:42+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.6195975518785417&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:47:43+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.35995584540069103&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:47:52+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.419272203464061&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:48:02+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.9871635746676475&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:48:35+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.990059751085937&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:53:17+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.9543443794827908&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:53:20+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.5718953066971153&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:53:25+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.2618623615708202&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:53:28+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.5003225621767342&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:53:29+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.7565208850428462&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:53:47+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.7798757990822196&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0020s ]

[ 2016-05-19T09:53:54+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.29980253311805427&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:54:01+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.7780337384901941&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:54:02+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.04617389664053917&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0020s ]

[ 2016-05-19T09:54:02+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.3797503069508821&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0010s ]

[ 2016-05-19T09:54:03+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.49607859435491264&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0020s ]

[ 2016-05-19T09:54:04+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.060668424936011434&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0020s ]

[ 2016-05-19T09:54:05+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.7893567732535303&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:54:17+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.5583635582588613&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:54:18+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.55042271502316&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:54:19+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.7782218533102423&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:54:31+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.8889394141733646&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0156s ]

[ 2016-05-19T09:54:49+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.670332110254094&customname=B&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='B'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='B' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='B' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='B' [ RunTime:0.0000s ]

[ 2016-05-19T09:54:55+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.4753059037029743&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:54:57+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.8818793948739767&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:54:58+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.9529290720820427&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:54:59+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.0977213135920465&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:55:00+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.19602691195905209&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:55:01+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.27145881205797195&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:55:23+08:00 ] 172.30.16.87 /index.php/Home/Index/customcredit.html
ERR: 1048:Column 'creditmoney' cannot be null
 [ SQLè¯­å¥ ] : INSERT INTO `ad_customcredit` (`yearmonth`,`customname`,`creditmoney`) VALUES ('2015-01','A',NULL)

[ 2016-05-19T09:55:36+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.11472808779217303&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:55:37+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.43670549313537776&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0156s ]

[ 2016-05-19T09:57:24+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.599180364748463&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:57:25+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.047067289939150214&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:57:32+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.2757119263987988&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T09:58:28+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.003831269219517708&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:58:35+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.6260011466220021&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T09:58:40+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.03906356357038021&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0010s ]

[ 2016-05-19T09:58:42+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.42735488805919886&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0010s ]

[ 2016-05-19T09:58:43+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.02154762763530016&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0020s ]

[ 2016-05-19T09:58:47+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.09578492608852684&customname=&month=2016-01
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-01' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-01' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-01' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-01' [ RunTime:0.0000s ]

[ 2016-05-19T09:58:52+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.8624109942466021&customname=&month=2016-02
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-02' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-02' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-02' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-02' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-02' [ RunTime:0.0000s ]

[ 2016-05-19T09:58:54+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.9041973755229264&customname=&month=2016-02
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-02' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-02' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-02' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-02' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-02' [ RunTime:0.0010s ]

[ 2016-05-19T09:58:59+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.9008346165064722&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:59:00+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.21607601293362677&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T09:59:38+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.9679586826823652&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T09:59:43+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.8028380470350385&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T10:03:38+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.0005749478004872799&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:03:43+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.9905208970885724&customname=B&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='B'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='B' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='B' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='B' [ RunTime:0.0166s ]

[ 2016-05-19T10:10:20+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.214251414174214&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:10:24+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.8137047791387886&customname=B&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='B'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='B' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='B' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='B' [ RunTime:0.0000s ]

[ 2016-05-19T10:11:11+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.8292331343982369&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:11:14+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.19998465082608163&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T10:11:24+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.954842509701848&customname=B&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='B'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='B' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='B' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='B' [ RunTime:0.0000s ]

[ 2016-05-19T10:16:05+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.7846786337904632&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:16:08+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.9973279242403805&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0020s ]

[ 2016-05-19T10:16:10+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.856518333312124&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:16:11+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.9626440231222659&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0010s ]

[ 2016-05-19T10:16:11+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.2946073831990361&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:16:12+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.9210952594876289&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0020s ]

[ 2016-05-19T10:16:13+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.6362149834167212&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0020s ]

[ 2016-05-19T10:16:14+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.595739848446101&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:17:33+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.582746657775715&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:17:38+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.8209481667727232&customname=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:17:39+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.8237926468718797&customname=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0010s ]

[ 2016-05-19T10:17:41+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.23144929693080485&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:17:47+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.347624100279063&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T10:17:50+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.8874132290948182&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0010s ]

[ 2016-05-19T10:17:54+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.19640115415677428&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname and main.customname='2015-01' [ RunTime:0.0020s ]

[ 2016-05-19T10:17:57+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.27675112639553845&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname and main.customname='2015-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:17:57+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.4527548614423722&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname and main.customname='2015-01' [ RunTime:0.0010s ]

[ 2016-05-19T10:17:57+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.24566303309984505&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname and main.customname='2015-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:17:57+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.4085312185343355&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname and main.customname='2015-01' [ RunTime:0.0010s ]

[ 2016-05-19T10:17:57+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.48520607058890164&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname and main.customname='2015-01' [ RunTime:0.0010s ]

[ 2016-05-19T10:17:58+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.30668105627410114&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname and main.customname='2015-01' [ RunTime:0.0010s ]

[ 2016-05-19T10:18:00+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.8861235298682004&customname=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:18:08+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.807535320520401&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0010s ]

[ 2016-05-19T10:18:20+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.27122303168289363&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname and main.customname='2016-01' [ RunTime:0.0020s ]

[ 2016-05-19T10:18:22+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.7620821208693087&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0020s ]

[ 2016-05-19T10:18:23+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.16855947230942547&customname=A&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.016600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0

[ 2016-05-19T10:18:24+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.179067773045972&customname=A&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0

[ 2016-05-19T10:18:24+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.5322525075171143&customname=A&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0

[ 2016-05-19T10:18:24+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.3693056476768106&customname=A&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0

[ 2016-05-19T10:18:25+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.6260893177241087&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:19:02+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.8181380541063845&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:19:06+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.1043338414747268&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T10:19:11+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.27881738753058016&customname=b&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='b'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='b' [ RunTime:0.0156s ]

[ 2016-05-19T10:19:18+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.3396972252521664&customname=b&month=2016-02&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='b'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='b' [ RunTime:0.0020s ]

[ 2016-05-19T10:19:19+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.6622985554859042&customname=b&month=2016-02&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='b'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='b' [ RunTime:0.0020s ]

[ 2016-05-19T10:19:19+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.31343481596559286&customname=b&month=2016-02&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='b'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='b' [ RunTime:0.0000s ]

[ 2016-05-19T10:19:20+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.9156252974644303&customname=b&month=2016-02&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='b'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='b' [ RunTime:0.0000s ]

[ 2016-05-19T10:19:29+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.6133180661126971&customname=b&month=2016-01&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='b'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='b' [ RunTime:0.0000s ]

[ 2016-05-19T10:20:03+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.7275237429421395&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0010s ]

[ 2016-05-19T10:20:07+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.11611918057315052&customname=A&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0

[ 2016-05-19T10:20:12+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.4985717283561826&customname=A&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0

[ 2016-05-19T10:20:28+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.17104292986914515&customname=A&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0
ERR: 1054:Unknown column 'credit2.customname0' in 'on clause'
 [ SQLè¯­å¥ ] : select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname0

[ 2016-05-19T10:20:52+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.8651646722573787&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0010s ]

[ 2016-05-19T10:20:54+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.5655841617844999&customname=A&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' and main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T10:20:55+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.7447470910847187&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0020s ]

[ 2016-05-19T10:20:56+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.7380633566062897&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2016-01' [ RunTime:0.0010s ]

[ 2016-05-19T10:21:04+08:00 ] 127.0.0.1 /index.php/Home/Custom/monthajax?r=0.765258185332641&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0010s ]

[ 2016-05-19T10:21:07+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.856711890315637&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0020s ]

[ 2016-05-19T10:21:10+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.5884357884060591&customname=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0010s ]

[ 2016-05-19T10:21:29+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.5483836939092726&customname=&year=2014
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2014'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0020s ]

[ 2016-05-19T10:21:35+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.2910576935391873&customname=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0010s ]

[ 2016-05-19T10:21:41+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.9530308428220451&customname=b&month=2016-01&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='b'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='b' [ RunTime:0.0000s ]

[ 2016-05-19T10:21:41+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.7507185249123722&customname=b&month=2016-01&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='b'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='b' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='b' [ RunTime:0.0000s ]

[ 2016-05-19T10:21:43+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.5797344790771604&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:21:45+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.6357615774031729&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:21:45+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.5823930355254561&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:21:48+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.30310870218090713&customname=A&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' and main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T10:21:51+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.9636816936545074&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:21:56+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.49464390124194324&customname=B&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='B'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='B' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='B' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='B' [ RunTime:0.0156s ]

[ 2016-05-19T10:21:58+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.28216091939248145&customname=B&month=2016-02&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='B'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='B' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='B' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='B' [ RunTime:0.0000s ]

[ 2016-05-19T10:22:04+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.8726004438940436&customname=B&month=2016-02&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-02' group by customname) credit1
on main.customname=credit1.customname

where main.customname='B'  and main.yearmonth<'2016-02'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='B' and yearmonth='2016-02'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='B' and yearmonth='2016-02'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-02' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-02' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-02' group by customname) credit2
on main.customname=credit2.customname

where main.customname='B'  and main.yearmonth<'2016-02' [ RunTime:0.0000s ]

[ 2016-05-19T10:22:41+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.5056715921964496&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:22:45+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.38206796161830425&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2016-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:22:48+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.7272587334737182&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:22:52+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.6534331263974309&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2016-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:24:06+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.3012296047527343&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0020s ]

[ 2016-05-19T10:24:07+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.10606443788856268&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:24:29+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.28174983570352197&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:25:55+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.46258000074885786&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2016-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:25:57+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.8690742985345423&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:26:02+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.19991158763878047&customname=A&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' and main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T10:26:03+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.5287767807021737&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0020s ]

[ 2016-05-19T10:26:06+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.15722998441196978&customname=&month=2016-04
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-04' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-04' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-04' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-04' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-04' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-04' [ RunTime:0.0010s ]

[ 2016-05-19T10:26:09+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.19435259304009378&customname=A&month=2016-04
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-04' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-04' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-04' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-04' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-04' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-04' and main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T10:26:11+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.8869049339555204&customname=&month=2016-04
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-04' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-04' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-04' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-04' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-04' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-04' [ RunTime:0.0000s ]

[ 2016-05-19T10:26:12+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.7397797340527177&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:26:15+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.37167369574308395&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2016-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:26:17+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.43699642992578447&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:26:19+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.7778387940488756&customname=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:26:22+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.5622865185141563&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2015-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:26:24+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.13989266101270914&customname=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0030s ]

[ 2016-05-19T10:26:40+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.8140381898265332&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:26:40+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.7484954434912652&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:26:52+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.6110522418748587&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:26:54+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.3602930950000882&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:29:01+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.38782242219895124&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:29:04+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.7482700778637081&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T10:29:15+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.7060442897491157&customname=A&month=2015-02&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2015-02'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2015-02'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2015-02'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-02' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-02' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2015-02' [ RunTime:0.0010s ]

[ 2016-05-19T10:29:21+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.21343129291199148&customname=A&month=2015-02&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2015-02'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2015-02'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2015-02'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-02' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-02' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2015-02' [ RunTime:0.0020s ]

[ 2016-05-19T10:29:22+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.7520820966456085&customname=A&month=2015-02&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2015-02'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2015-02'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2015-02'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-02' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-02' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2015-02' [ RunTime:0.0020s ]

[ 2016-05-19T10:29:22+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.8642344188410789&customname=A&month=2015-02&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2015-02'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2015-02'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2015-02'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-02' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-02' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-02' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-02' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2015-02' [ RunTime:0.0010s ]

[ 2016-05-19T10:29:34+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.925831438973546&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:29:35+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.16959763527847826&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0010s ]

[ 2016-05-19T10:29:38+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.28893279866315424&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2016-01' [ RunTime:0.0010s ]

[ 2016-05-19T10:29:39+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.45791557617485523&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0010s ]

[ 2016-05-19T10:29:41+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.8672637981362641&customname=A&month=&year=2
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2-01' and yearmonth<='2-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2-01' and yearmonth<='2-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2-01' and yearmonth<='2-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2-01' and yearmonth<='2-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T10:29:42+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.4329204186797142&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:29:43+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.13365486590191722&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:29:48+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.45541662350296974&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T10:29:48+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.11870355671271682&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T10:29:51+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.2891622253227979&customname=A&month=2016-01&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2016-01'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2016-01'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2016-01'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-01' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-01' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2016-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:29:52+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.5932366992346942&customname=A&month=2016-01&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2016-01'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2016-01'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2016-01'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-01' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-01' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2016-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:29:54+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.406778902746737&customname=A&month=2016-01&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2016-01'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2016-01'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2016-01'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-01' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-01' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2016-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:30:16+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.7954668148886412&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:30:20+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.6132414629682899&customname=A&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2016-01' and yearmonth<='2016-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T10:30:40+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.24736375943757594&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12'

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T10:31:55+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.09962922194972634&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:31:59+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.7754170016851276&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: 1221:Incorrect usage of UNION and ORDER BY
 [ SQLè¯­å¥ ] : select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'
ERR: 1221:Incorrect usage of UNION and ORDER BY
 [ SQLè¯­å¥ ] : select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'

[ 2016-05-19T10:32:00+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.5780599135905504&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: 1221:Incorrect usage of UNION and ORDER BY
 [ SQLè¯­å¥ ] : select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'
ERR: 1221:Incorrect usage of UNION and ORDER BY
 [ SQLè¯­å¥ ] : select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'

[ 2016-05-19T10:32:00+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.4314885437488556&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: 1221:Incorrect usage of UNION and ORDER BY
 [ SQLè¯­å¥ ] : select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'
ERR: 1221:Incorrect usage of UNION and ORDER BY
 [ SQLè¯­å¥ ] : select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'

[ 2016-05-19T10:32:00+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.8883499247021973&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
ERR: 1221:Incorrect usage of UNION and ORDER BY
 [ SQLè¯­å¥ ] : select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'
ERR: 1221:Incorrect usage of UNION and ORDER BY
 [ SQLè¯­å¥ ] : select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'

[ 2016-05-19T10:33:56+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.21853867103345692&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:33:59+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.24860573164187372&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

(SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc)

union all

(SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12' order by yearmonth asc)

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0030s ]

[ 2016-05-19T10:43:01+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.9766763872466981&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:43:02+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.7174948374740779&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:43:05+08:00 ] 127.0.0.1 /index.php/Home/Custom/detailajax?r=0.5081335762515664&customname=A&month=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'

union all

(SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12')

union all

(SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth>='2015-01' and yearmonth<='2015-12')

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A' [ RunTime:0.0020s ]

[ 2016-05-19T10:43:32+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.41188076906837523&customname=A&month=2016-01&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2016-01'

union all

(SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2016-01')

union all

(SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2016-01')

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-01' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-01' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2016-01' [ RunTime:0.0020s ]

[ 2016-05-19T10:43:33+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.41372935893014073&customname=A&month=2016-01&year=
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select 'ä¸ŠæœŸç»“è½¬' as yearmonth, main.customname,'' as debitmoney, 
'' as creditmoney,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

where main.customname='A'  and main.yearmonth<'2016-01'

union all

(SELECT yearmonth,customname,debitmoney,'' as creditmoney,'' as finalmoney FROM adpayment.ad_customdebit where customname='A' and yearmonth='2016-01')

union all

(SELECT yearmonth,customname,'' as debitmoney,creditmoney,'' as finalmoney FROM adpayment.ad_customcredit where customname='A' and yearmonth='2016-01')

union all

select 'æœ¬æœŸåˆè®¡'as yearmonth,'' as customname,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-01' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-01' group by customname) credit2
on main.customname=credit2.customname

where main.customname='A'  and main.yearmonth<'2016-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:43:39+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.04801213555037975&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:43:41+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.7083742723334581&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:43:42+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.31885647866874933&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:43:46+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.0036396835930645466&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2016-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:43:49+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.627287681447342&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:43:52+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.359306622762233&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:43:54+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.5901950779370964&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2016-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:44:00+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.28672171710059047&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2015-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:44:01+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.5913895620033145&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2015-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:44:08+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.7484016502276063&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2015-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:44:15+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.7755238416139036&customname=A&year=2014
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2014'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2014-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:44:21+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.6997894996311516&customname=&year=2014
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2014'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:44:25+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.2077501534949988&customname=A&year=2014
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2014'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2014-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2014-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2014-01' and yearmonth<='2014-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2014-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:44:33+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.24463033257052302&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:44:33+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.8168874986004084&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:44:36+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.3327933468390256&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:44:37+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.2876461760606617&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:44:37+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.8241441729478538&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:45:53+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.3758218309376389&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0010s ]

[ 2016-05-19T10:45:56+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.4629112232942134&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2016-01' [ RunTime:0.0010s ]

[ 2016-05-19T10:46:01+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.31931573641486466&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2016-01' [ RunTime:0.0010s ]

[ 2016-05-19T10:46:39+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.9697670019231737&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:46:45+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.9513977088499814&customname=&month=2015-01
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015-01' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2015-01' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2015-01' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2015-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:47:30+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.11144552798941731&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0020s ]

[ 2016-05-19T10:47:35+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.14510565646924078&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:47:39+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.5269515104591846&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2016-01' [ RunTime:0.0010s ]

[ 2016-05-19T10:47:53+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.7924574255011976&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:47:57+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.4954317531082779&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:48:09+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.9796981618274003&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:48:10+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.5685215776320547&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:48:24+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.48654261068440974&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:48:25+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.15099862520582974&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:48:26+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.4189775031991303&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:48:35+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.4439984087366611&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:48:39+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.9907872993499041&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:48:41+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.4322076179087162&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:49:18+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.8103524316102266&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0020s ]

[ 2016-05-19T10:49:20+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.853077927371487&customname=A&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2016-01' [ RunTime:0.0000s ]

[ 2016-05-19T10:49:25+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.17075057234615088&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2015-01' [ RunTime:0.0010s ]

[ 2016-05-19T10:49:28+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.7823703947942704&customname=&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0020s ]

[ 2016-05-19T10:49:30+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.9788966975174844&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2015-01' [ RunTime:0.0010s ]

[ 2016-05-19T10:49:57+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.9773151606786996&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:49:57+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.6848223379347473&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:49:58+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.32902694935910404&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:50:04+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.8828854695893824&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

[ 2016-05-19T10:50:05+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.5608408700209111&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:50:06+08:00 ] 172.30.16.87 /index.php/Home/Custom/yearajax?r=0.427209333749488&customname=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.015600s ]
INFO: [ app_begin ] --END-- [ RunTime:0.015600s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2016-01' and yearmonth<='2016-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 [ RunTime:0.0000s ]

[ 2016-05-19T10:50:33+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.47564843972213566&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='2015-01' [ RunTime:0.0020s ]

[ 2016-05-19T10:52:41+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.1842339662835002&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T10:52:50+08:00 ] 127.0.0.1 /index.php/Home/Custom/yearajax?r=0.6059312704019248&customname=A&year=2015
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2015'as year,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2015-01' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2015-01' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth>='2015-01' and yearmonth<='2015-12' group by customname) credit2
on main.customname=credit2.customname where 1=1 and main.customname='A' [ RunTime:0.0010s ]

[ 2016-05-19T10:56:44+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.3040479007177055&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:56:50+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.39813505858182907&customname=A&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' and main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T10:56:52+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.38098195591010153&customname=A&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' and main.customname='A' [ RunTime:0.0000s ]

[ 2016-05-19T10:56:54+08:00 ] 172.30.16.87 /index.php/Home/Custom/monthajax?r=0.34593329508788884&customname=&month=2016-05
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.
SQL: select '2016-05' as month,main.customname,main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0) as defaultmoney,ifnull(debit2.debitmoneysum2,0) as debitmoney,
ifnull(credit2.creditmoneysum2,0) as creditmoney,
main.defaultmoney-ifnull(debit1.debitmoneysum1,0)+ifnull(credit1.creditmoneysum1,0)-ifnull(debit2.debitmoneysum2,0)+ifnull(credit2.creditmoneysum2,0) as finalmoney from adpayment.ad_defaultmoney main

left join  (SELECT customname,sum(debitmoney) as debitmoneysum1  FROM adpayment.ad_customdebit where yearmonth<'2016-05' group by customname) debit1
on main.customname=debit1.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum1 FROM adpayment.ad_customcredit where yearmonth<'2016-05' group by customname) credit1
on main.customname=credit1.customname

left join  (SELECT customname,sum(debitmoney) as debitmoneysum2  FROM adpayment.ad_customdebit where yearmonth='2016-05' group by customname) debit2
on main.customname=debit2.customname

left join  (SELECT customname,sum(creditmoney) as creditmoneysum2 FROM adpayment.ad_customcredit where yearmonth='2016-05' group by customname) credit2
on main.customname=credit2.customname where main.yearmonth<'2016-05' [ RunTime:0.0000s ]

[ 2016-05-19T10:56:55+08:00 ] 172.30.16.87 /index.php/Home/Custom/detailajax?r=0.1220459055621177&customname=&month=&year=2016
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
NOTIC: [8] A session had already been started - ignoring session_start() E:\C#\AdPaymentSystem\AdPaymentSystem\AdPaymentSystem\ThinkPHP\Common\functions.php ç¬¬ 1263 è¡Œ.

